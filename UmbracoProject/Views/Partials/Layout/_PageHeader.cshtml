@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage<IPageHeader>
@using Umbraco.Cms.Core.PublishedCache
@using Umbraco.Cms.Core.Routing
@using Umbraco.Cms.Core.Services.Navigation

@inject IPublishedContentCache PublishedContentCache
@inject IDocumentNavigationQueryService DocumentNavigationQueryService
@inject IPublishedUrlProvider PublishedUrlProvider


@{
    var selection = Model.Ancestors().ToArray();
    var homePageDisplayName = "Home";
    var isFirstItem = true;
}

<section class="breadcrumb">
    <div class="container">
        <div class="breadcrumb-content">
            <h1>@Model.PageTitle</h1>
            <div class="breadcrumb-list">
                @if (selection?.Length > 0)
                {
                    <ul class="breadcrumb-ul">
                        @foreach (var item in selection.OrderBy(x => x.Level))
                        {
                            var displayName = isFirstItem ? homePageDisplayName : item.Name;
                            <li class="breadcrumb-li">
                                <a class="breadcrumb-a" href="@item.Url(PublishedUrlProvider)">@displayName</a>
                                <i class="fa-solid fa-angle-right breadcrumb-i"></i>
                            </li>
                            isFirstItem = false;
                        }
                        <li class="breadcrumb-li">
                            <p class="breadcrumb-p">@Model.Name</p>
                        </li>
                    </ul>
                }
            </div>
        </div>
    </div>
</section>